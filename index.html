<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Generator Tool</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="normalize.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>
    <div id="image-generator-container" class='image-generator-container container d-flex flex-column justify-content-center align-items-center mt-5'>
        <div class="d-lg-flex flex-lg-row justify-content-center align-items-start gap-5">
            <div class='d-flex flex-column'>
                <div class='d-flex justify-content-start gap-3 mb-3'>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1"
                            checked onchange="updateText()">
                        <label class="form-check-label" for="flexRadioDefault1">
                            She
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2"
                            onchange="updateText()">
                        <label class="form-check-label" for="flexRadioDefault2">
                            he
                        </label>
                    </div>
                </div>
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="nicknameInput" placeholder="Enter nickname"
                        maxlength="7">
                    <label for="nicknameInput">Enter Nickname</label>
                </div>
                <div class="form-floating mb-3">
                    <textarea type="text" class="form-control textarea-position headlineInput" id="headlineInput"
                        placeholder="Enter position" maxlength="70" rows='2'></textarea>
                    <label for="headlineInput">Enter Text</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="fullNameInput" placeholder="Enter fullName"
                        maxlength="50">
                    <label for="fullNameInput">Enter Fullname</label>
                </div>
                <div class="form-floating mb-3">
                    <textarea type="text" class="form-control textarea-position" id="positionInput"
                        placeholder="Enter position" maxlength="50" rows='2' onchange='textAreaChange()'></textarea>
                    <label for="positionInput">Enter Position</label>
                </div>
                <div class="dropzone mb-3" id="dropzone" onclick='triggerFileInput()'>
                    <span>Drag & Drop image here or click to upload</span>
                    <input type="file" id="fileInput" style="display: none;" onchange="handleFileSelect()">
                </div>
                <div class='image-size d-flex justify-content-between align-items-center'>
                    <div>

                        <label for="">Image Size : </label>
                        <span id="currentSize">100%</span>
                    </div>
                    <div class='d-flex gap-2'>
                        <button class='btn btn-primary rounded-circle' id="decreaseSizeBtn"><svg
                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                                <path
                                    d="M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z" />
                            </svg></button>
                        <button class='btn btn-primary rounded-circle' id="increaseSizeBtn"><svg
                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                                <path
                                    d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z" />
                            </svg></button>
                    </div>
                </div>
            </div>
            <div class=' d-flex justify-content-center flex-column mt-lg-0 mt-5'>
                <div class="image-container mb-3" id="imageContainer">
                    <img src="https://raw.githubusercontent.com/jvcruz24/ImageGeneratorTool/main/background.jpg"
                        alt="template" class="template" crossorigin="anonymous">
                    <div class='image-profile-container'>
                        <div>
                            <img src="https://raw.githubusercontent.com/jvcruz24/ImageGeneratorTool/main/transparent.png"
                                alt=" " class="image-profile img-fluid resizable-image" id='profile'
                                crossorigin="anonymous">
                        </div>
                    </div>
                    <div class='copies-container'>
                        <div class='logo-container'>
                            <!-- <img src="https://raw.githubusercontent.com/jvcruz24/ImageGeneratorTool/main/wideoutlogo.png"
                                alt="wideoutlogo" class='wideoutlogo'> -->
                                <p class="logo-text shifted-text">at Wideout.</p>
                        </div>
                        <div class='headline' id='headline-container'>
                            <p class='shifted-text-5' style='
                            font-size: 21px;
                            font-weight: 600;
                            color: #e02c4a;
                            word-break: break-word;
                            padding: 5px 20px 0px 20px;
                            overflow: hidden;
                            line-height: 28px;
                            margin-bottom: 0;
                            text-align: center;' id='headline-text'>
                            </p>
                        </div>
                        <div class='bottom'>
                            <button class='custom-btn'>
                                <p class='custom-btn-text shifted-text'>Ask us how</p>
                            </button>
                            <div class='footnote-container'>
                                <!-- <p class='footnote shifted-text'>(Of course we’re using AI!)</p> -->
                                <p class="shifted-text-4 ofcourse">Of course,</p>
                                <p class='footnote shifted-text'>we’re using <span class="shifted-text-3">AI!</span></p>
                            </div>
                        </div>
                        <div class='copy1-container'>
                            <p class='copy1 shifted-text'>This is</p>
                        </div>
                        <div class='copy2-container'>
                            <p class='copy2 shifted-text' id="copyText"><span>She</span> is a top talent</p>
                        </div>
                    </div>

                    <p id="nickname" class="input-name nickname shifted-text"></p>
                    <p id="nickname2" class="input-name nickname2 shifted-text" style='display: none;'></p>
                    <p id="nickname3" class="input-name nickname3"></p>

                    <div class='position-container'>
                    </div>
                    <p class="position" id='position'></p>
                </div>
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <div>

                            <!-- <a href="https://www.remove.bg/upload" target='_blank'>Remove BG here.</a> -->
                            <a href="https://new.express.adobe.com/tools/remove-background" target='_blank'>Remove BG
                                here.</a>
                        </div>
                        <div>

                            <a href="https://www.lightxeditor.com/photo-editing/ai-headshot-generator/" target="_blank">Use AI for transformation.</a>
                        </div>
                    </div>
                    <div class='row d-flex justify-content-center align-items-center p-3'>
                        <button type='submit' class="btn btn-primary downloadButton" id="downloadButton">Generate Image</button>
                    </div>
                </div>
            </div>

            <div class='template-container h-100 flex-sm-row flex-md-column w-sm-100' style='display: none;'>
                <div class='template-image' onclick='updateDefaultContent(this)'>
                    <img src="https://raw.githubusercontent.com/jvcruz24/ImageGeneratorTool/main/background.jpg"
                        alt="template" class="template" crossorigin="anonymous">
                </div>
                <div class='template-image' onclick="updateHeadline('headline_1')">
                    <img src="https://raw.githubusercontent.com/jvcruz24/ImageGeneratorTool/main/background.jpg"
                        alt="template" class="template" crossorigin="anonymous">
                    <img src="headline_1.png" alt="template-img">
                </div>
                <div class='template-image' onclick="updateHeadline('headline_2')">
                    <img src="https://raw.githubusercontent.com/jvcruz24/ImageGeneratorTool/main/background.jpg"
                        alt="template" class="template" crossorigin="anonymous">
                    <img src="headline_2.png" alt="template-img">
                </div>
                <div class='template-image' onclick="updateHeadline('headline_3')">
                    <img src="https://raw.githubusercontent.com/jvcruz24/ImageGeneratorTool/main/background.jpg"
                        alt="template" class="template" crossorigin="anonymous">
                    <img src="headline_3.png" alt="template-img">
                </div>
                <div class='template-image' onclick="updateHeadline('headline_4')">
                    <img src="https://raw.githubusercontent.com/jvcruz24/ImageGeneratorTool/main/background.jpg"
                        alt="template" class="template" crossorigin="anonymous">
                    <img src="headline_4.png" alt="template-img">
                </div>
            </div>
        </div>

    </div>
    <div id="fix-small" class="">
        <h1>The image generator works best on screens with a larger viewing area.</h1>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
        integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {

            const nicknameInput = document.getElementById('nicknameInput');
            const fullNameInput = document.getElementById('fullNameInput');
            const positionInput = document.getElementById('positionInput');
            const headlineInput = document.getElementById('headlineInput');
            const nickname = document.getElementById('nickname');
            const nickname2 = document.getElementById('nickname2');
            const nickname3 = document.getElementById('nickname3');
            const position = document.getElementById('position');
            const headlineText = document.getElementById('headline-text');
            const imageContainer = document.getElementById('imageContainer');
            const downloadButton = document.getElementById('downloadButton');
            const decreaseSizeBtn = document.getElementById('decreaseSizeBtn');
            const increaseSizeBtn = document.getElementById('increaseSizeBtn');
            const currentSizeSpan = document.getElementById('currentSize');
            let currentSize = 100; // Initial size percentage



            nicknameInput.addEventListener('input', onInputChange);
            fullNameInput.addEventListener('input', onInputChange);
            positionInput.addEventListener('input', onInputChange);
            headlineInput.addEventListener('input', onInputChange);
            downloadButton.addEventListener('click', downloadCanvas);
            decreaseSizeBtn.addEventListener('click', decreaseImageSize);
            increaseSizeBtn.addEventListener('click', increaseImageSize);

            // ONCHANGE INPUT
            function onInputChange() {
                const fillNickname = nicknameInput.value.toUpperCase();
                const fillPosition = positionInput.value.toUpperCase();
                const fillFullname = fullNameInput.value.toUpperCase();

                nickname.textContent = fillNickname;
                nickname2.textContent = fillNickname;
                nickname3.textContent = fillFullname;
                position.textContent = fillPosition;
                headlineText.textContent = headlineInput.value;

            }

            function decreaseImageSize() {
                if (currentSize > 10) {
                    currentSize -= 10;
                    updateImageSize();
                }
            }

            function increaseImageSize() {
                if (currentSize < 300) {
                    currentSize += 10;
                    updateImageSize();
                }
            }

            function updateImageSize() {
                const newSize = `${currentSize}%`;
                profile.style.width = newSize;
                currentSizeSpan.textContent = newSize;
            }


            // DOWNLOAD CANVAS USING HTML2CANVAS
            function downloadCanvas() {
                html2canvas(imageContainer, {
                    scale: 2,
                    width: 540,
                    height: 540,
                    useCORS: true,
                    allowTaint: true,
                    logging: true,
                    taintTest: false,
                    onclone: (el) => {
                        const elementsWithShiftedDownwardText = el.querySelectorAll('.shifted-text');
                        const elementsWithShiftedDownwardText2 = el.querySelectorAll('.shifted-text-2');
                        const elementsWithShiftedDownwardText3 = el.querySelectorAll('.shifted-text-3');
                        const elementsWithShiftedDownwardText4 = el.querySelectorAll('.shifted-text-4');
                        const elementsWithShiftedDownwardText5 = el.querySelectorAll('.shifted-text-5');
                        elementsWithShiftedDownwardText.forEach(element => {
                            element.style.transform = 'translateY(65%)';
                        });

                        elementsWithShiftedDownwardText2.forEach(element => {
                            element.style.transform = 'translateY(-40%)';
                        });

                        elementsWithShiftedDownwardText3.forEach(element => {
                            element.style.position = 'relative';
                            element.style.top = '10px';
                        });

                        elementsWithShiftedDownwardText4.forEach(element => {
                            element.style.position = 'relative';
                            element.style.top = '7px';
                        });
                        elementsWithShiftedDownwardText5.forEach(element => {
                            element.style.padding = '35px 20px 0px 20px';
                        });
                    }
                }).then(function (canvas) {
                    const dataUrl = canvas.toDataURL('image/png');
                    const a = document.createElement('a');
                    a.href = dataUrl;
                    a.download = 'generatedimage.png';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                });
            }
        });
    </script>

    <script>
        const profile = document.getElementById('profile');
        const dropzone = document.getElementById('dropzone');
        const fileInput = document.getElementById('fileInput');

        dropzone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropzone.classList.add('highlight');
        });

        dropzone.addEventListener('dragleave', () => {
            dropzone.classList.remove('highlight');
        });

        dropzone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropzone.classList.remove('highlight');
            handleDroppedFiles(e.dataTransfer.files);
        });

        function triggerFileInput() {
            fileInput.click();
        }

        function handleFileSelect() {
            const files = fileInput.files;
            handleDroppedFiles(files);
        }

        function handleDroppedFiles(files) {
            if (files.length) {
                const file = files[0];

                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();

                    reader.onload = () => {
                        profile.src = reader.result;
                    };

                    reader.readAsDataURL(file);
                } else {
                    alert('Please choose an image file');
                }
            }
        }
    </script>

    <script>
        // Make the DIV element draggable:
        dragElement(document.getElementById("profile"));

        function dragElement(elmnt) {
            var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            if (document.getElementById(elmnt.id + "header")) {
                // if present, the header is where you move the DIV from:
                document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
            } else {
                // otherwise, move the DIV from anywhere inside the DIV:
                elmnt.onmousedown = dragMouseDown;
            }

            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                // get the mouse cursor position at startup:
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                // call a function whenever the cursor moves:
                document.onmousemove = elementDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                // calculate the new cursor position:
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                // set the element's new position:
                elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                // stop moving when mouse button is released:
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }

    </script>

    <script>


        const nickname2 = document.getElementById('nickname2');

        function updateDefaultContent(element) {
            var divContent = `
            <div class='divider-container'>
                <img src="https://raw.githubusercontent.com/jvcruz24/ImageGeneratorTool/main/were.png"
                    alt="divider" class='divider'>
            </div>
            <div class='ten-xing-container'>
                <p class='ten-xing shifted-text'>10xing</p>
            </div>
            <div class='today-container'>
                <p class='today shifted-text'>TODAY</p>
            </div>`;


            var divheadline = document.getElementById('headline-container');
            divheadline.innerHTML = divContent;
            nickname2.style.display = 'block';
        }


        function updateText() {
            var radio1 = document.getElementById('flexRadioDefault1');
            var radio2 = document.getElementById('flexRadioDefault2');
            var copyText = document.getElementById('copyText');

            if (radio1.checked) {
                copyText.innerHTML = "<span>She</span> is a top talent";
            } else if (radio2.checked) {
                copyText.innerHTML = "<span>He</span> is a top talent";
            }

            var genderSpans = document.querySelectorAll('.gender');
            if (radio1.checked) {
                genderSpans.forEach(span => {
                    span.innerHTML = "Her";
                });
            } else {
                genderSpans.forEach(span => {
                    span.innerHTML = "He";
                });
            }
        }
        function updateHeadline(imgSrc) {
            var divHeadline = document.getElementById('headline-container');
            var radio1 = document.getElementById('flexRadioDefault1');
            var headlineData = {
                'headline_1': {
                    'text': "Not only did <span class='gender lowercase'></span> <span class='shifted-text-3' style='font-size:1.5rem'>10x</span> creation save us <span class='shifted-text-3' style='font-size:1.5rem'>8,000</span> precious hours, but it also translated into a cool <span class='shifted-text-3' style='font-size:1.5rem'>$10,000</span> in savings!",
                    'fontSize': '1rem',
                    'lineHeight': '24px'
                },
                'headline_2': {
                    'text': "<span class='gender'></span> brilliant <span class='shifted-text-3' style='font-size:1.5rem'>10x</span> creation saved us a staggering <span class='shifted-text-3' style='font-size:1.5rem'>8,000</span> hours of work! That's like getting an extra year of productivity out of thin air!",
                    'fontSize': '1rem',
                    'lineHeight': '21px'
                },
                'headline_3': {
                    'text': "<span class='gender'></span> incredible <span class='shifted-text-4' style='font-size:1.2rem'>10x</span> creation not only saved us a massive <span class='shifted-text-4' style='font-size:1.2rem'>8,000</span> hours of work but also put an extra <span class='shifted-text-4' style='font-size:1.2rem'>$10,000</span> in our pockets. It's like hitting the jackpot of productivity and savings all at once.",
                    'fontSize': '0.8rem',
                    'lineHeight': '18px'
                },
                'headline_4': {
                    'text': "<span class='gender'></span> genius <span class='shifted-text-3' style='font-size:1.5rem'>10x</span> creation saved us <span class='shifted-text-3' style='font-size:1.5rem'>8,000</span> hours and productivity jackpot worth <span class='shifted-text-3' style='font-size:1.5rem'>$10,000</span>.",
                    'fontSize': '1rem',
                    'lineHeight': '26px'
                }
            };

            if (headlineData.hasOwnProperty(imgSrc)) {
                var headline = headlineData[imgSrc];
                divHeadline.innerHTML = `<p class='shifted-text-2'
            style='top: 10px; width: 100%; height: auto; text-align: center; color: #e02c4a; font-weight: 800; font-size: ${headline.fontSize}; padding: 0px 0px; top: 50%; transform: translateY(-50%); line-height: ${headline.lineHeight};'>${headline.text}</p>`;
            }

            var genderSpans = document.querySelectorAll('.gender');
            if (radio1.checked) {
                genderSpans.forEach(span => {
                    span.innerHTML = "Her";
                });
            } else {
                genderSpans.forEach(span => {
                    span.innerHTML = "He";
                });
            }

            nickname2.style.display = 'none';
        }
    </script>

</body>

</html>